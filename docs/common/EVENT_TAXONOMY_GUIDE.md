## **로그 데이터 수집 계획 설계 요청**

### **요청 개요**

저는 프로덕트의 특정 기능을 설명할 예정이며, 해당 기능을 분석하여 필요한 **로그 이벤트**를 정의하고, 각 이벤트에 필요한 **속성**을 상세히 설계해 주세요. 최종 결과물은 아래에서 제공하는 **테이블 형식**으로 작성하며, 모든 지침을 준수해 주시기 바랍니다.

---

### **요청 사항**

#### **1. 이벤트 정의**

- 각 기능에 대해 논리적으로 구분되는 **로그 이벤트**를 식별하고 정의합니다.
- **이벤트 이름**:
  - 영문 소문자를 사용하며, 필요시 `te_` 접두사를 추가합니다.
    - 예: `te_event_name`
- **이벤트 설명**:
  - 이벤트가 발생하는 상황을 명확히 기술합니다.
- **이벤트 태그**:
  - 이벤트의 주요 카테고리를 지정합니다 (예: 결제, 전투, 길드 등).
  - 태그는 분석 시 그룹화를 돕습니다.

#### **2. 속성 정의**

- 각 이벤트에 필요한 **속성**을 상세히 정의합니다.
- **속성 이름**:
  - 영문 소문자를 사용합니다.
- **속성 설명**:
  - 속성의 역할, 데이터 유형, 가능한 값(Enum 등), 제약 조건, 예시 등을 포함하여 상세히 작성합니다.
- **속성 유형**:
  - 아래 목록 중 하나를 사용하며, 각 유형에 대한 설명 규칙을 준수합니다:
    - **number**: 수치형 데이터.
    - **string**: 문자열 데이터. Enum(열거형) 값은 이 타입으로 처리하며, 가능한 값을 명시합니다.
    - **time**: 시간 형식 데이터 ("yyyy-MM-dd HH:mm:ss.SSS" 또는 "yyyy-MM-dd HH:mm:ss").
    - **boolean**: 논리형 데이터 (true, false).
    - **list**: 문자열 요소로 구성된 배열 (예: `["optionA", "optionB"]`).
    - **object**: 키-값 쌍으로 이루어진 단일 객체. 주요 키와 데이터 유형을 명시합니다.
    - **object group**: 동일한 구조를 가진 객체들의 배열. 각 객체의 하위 속성을 점(.) 표기법으로 정의합니다.
      - 예: `items_acquired_info.item_id`, `items_acquired_info.quantity`.

#### **3. 출력 형식**

- 모든 이벤트와 속성은 아래의 **테이블 형식**으로 통합 정리합니다.
- **이벤트 테이블**:
  - 이벤트 이름, 이벤트 별칭, 이벤트 설명, 이벤트 태그는 해당 이벤트의 모든 속성 행에 반복적으로 표시됩니다.
- **유저 테이블**:
  - 속성 이름, 속성 별칭, 속성 유형, 업데이트 방식, 속성 설명, 속성 태그를 포함합니다.

---

### **테이블 형식**

#### **[이벤트 테이블]**

| 이벤트 이름 (필수) | 이벤트 별칭 | 이벤트 설명            | 이벤트 태그 | 속성 이름 (필수) | 속성 별칭 | 속성 유형 (필수) | 속성 설명 |
| ------------------ | ----------- | ---------------------- | ----------- | ---------------- | --------- | ---------------- | --------- |
| `event_name`       | 이벤트 별칭 | 이벤트가 발생하는 상황 | 태그        | 속성 이름        | 속성 별칭 | 속성 유형        | 속성 설명 |

#### **[유저 테이블]**

| 속성 이름 (필수) | 속성 별칭 | 속성 유형 (필수) | 업데이트 방식 | 속성 설명 | 속성 태그 |
| ---------------- | --------- | ---------------- | ------------- | --------- | --------- |

---

### **유저 테이블 업데이트 방식**

유저 테이블 속성은 다음 메서드를 통해 업데이트됩니다:

1. **userset**: 기존 값을 덮어쓰거나 새로 추가합니다.
2. **usersetonce**: 최초 설정 시 한 번만 저장하며, 기존 값이 있을 경우 무시합니다.
3. **useradd**: 숫자형 속성을 누적(증가/감소) 저장합니다.
4. **userunset**: 속성 값을 삭제(초기화)합니다.
5. **userdelete**: 특정 유저를 삭제하며, 이벤트 데이터는 유지됩니다.
6. **userappend**: List 타입 속성에 요소를 추가합니다.
7. **useruniqappend**: 배열(Array) 타입 속성에 중복 제거 후 추가합니다.

---

### **콘텐츠 작성 규칙**

1. **이벤트 별칭**: 기능이나 상황을 잘 나타내는 한국어로 작성합니다.
2. **이벤트 설명**: 해당 이벤트가 언제 기록되는지 명확히 한국어로 작성합니다.
3. **이벤트 태그**: 관련된 주요 카테고리를 한글로 작성합니다 (예: 결제, 전투, 길드 등).
4. **속성 별칭**: 직관적인 한국어로 작성합니다.
5. **속성 설명**: 한국어로 상세히 작성하며, 필요한 경우 값의 예시, 단위, Enum 값 목록, 제약 조건 등을 포함합니다.

---

### **공통 속성 테이블**

#### **[속성 정의]**

| 속성 이름 (필수) | 속성 별칭      | 속성 유형 (필수) | 속성 설명                            |
| ---------------- | -------------- | ---------------- | ------------------------------------ |
| 펫ID             | Pet Identifier | String           | 펫의 고유 식별자(Unique Identifier)  |
| 펫이름           | Pet Name       | String           | 펫의 이름                            |
| 펫종             | Pet Species    | String           | 펫의 종(예: 개, 고양이 등)           |
| 펫건강상태       | Pet Health     | Enum             | 펫의 건강 상태(예: 양호, 보통, 위험) |

#### **[제외할 공통 속성]**

다음 속성들은 시스템 레벨에서 자동으로 수집되므로, 정의하는 속성 목록에는 포함하지 않습니다:

- 유저 식별자 (예: `#user_id`, `#account_id`)
- 이벤트 이름 (`#event_name`), 이벤트 발생 시각 (`#event_time`)
- 클라이언트에서 수집되는 속성 (`#ip`, `#디바이스타입` 등)

---

### **분석 관점 고려**

각 이벤트와 속성은 실제 데이터 분석에 어떻게 활용될 수 있을지 염두에 두고 설계합니다.

- **선택 사항**: 가능하다면 각 이벤트 그룹 설계 후 간단한 분석 활용 예시를 제시해 주세요.

---

### **결과물 제출 시 유의사항**

1. 모든 이벤트와 속성은 요구된 테이블 형식으로 정리합니다.
2. 설계된 이벤트와 속성은 분석 관점에서 활용 가능하도록 명확하고 논리적으로 작성합니다.
3. 지침을 일관되게 준수하며, 요청된 세부 사항을 누락하지 않습니다.

---

위 내용을 바탕으로 설계 작업을 진행해 주시기 바랍니다.
